# Lab Log: Adam_4

Fresh combat character created after Adam_3's combat broke.

## Character Progress

| Date | Arc | Duration | Score Before | Score After | Delta |
|------|-----|----------|--------------|-------------|-------|
| 01-25 | combat-money | 300s | 30 | 78 | +48 |
| 01-25 | combat-money | 71s | 78 | 86 | +8 |
| 01-25 | combat-money | 301s | 87 | 157 | +70 |
| 01-25 | combat-money | 300s | 157 | 179 | +22 |
| 01-25 | combat-money | 197s | 179 | 182 | +3 | (loot fix - now collecting coins!)
| 01-25 | combat-money | 300s | 182 | 185 | +3 |
| 01-25 | combat-money | 262s | 185 | 191 | +6 |
| 01-25 | combat-money | 300s | 191 | 194 | +3 |
| 01-25 | cowhide-training | 184s | 194 | 197 | +3 | (cows much better - 31 hides collected!)
| 01-25 | cowhide-training | 300s | 197 | 209 | +12 | (fixed attack priority - 28 kills!)
| 01-25 | cowhide-training | 300s | 209 | 214 | +5 | (Defence 37→38 level up, 30 kills)
| 01-25 | cowhide-training | 180s | 214 | ~217 | +3 | (20+ kills, cut short)
| 01-25 | combat-progression | 600s | 230 | 230 | 0 | (banking loop bug - no combat, just failed banking)
| 01-25 | combat-progression | 600s | 230 | 238 | +8 | (Def 35→45! 91 hides collected, banking failed, dropped all)
| 01-25 | combat-progression | 182s | 242 | 244 | +2 | (Def 46→48, disconnected early)
| 01-25 | combat-progression | 600s | 244 | 246 | +2 | (Atk 48→50! 44 kills, 98 hides, style rotated)
| 01-25 | combat-progression | 600s | 246 | 247 | +1 | (46 kills, but got stuck outside fence - added gate fix)
| 01-25 | combat-progression | 600s | 247 | 251 | +4 | (Def 48→50! Atk 50→52! Gate fix working, 38 kills)
| 01-25 | combat-progression | 128s | 251 | 252 | +1 | (Def 50→51, short run - disconnected)
| 01-25 | combat-progression | 600s | 252 | 256 | +4 | (Def 51→52, HP 54→55, browser crashes during runs)
| 01-25 | combat-progression | 524s | 253 | 260 | +7 | (Atk 52→55! Def 51→54! HP 55→56! 47 kills, 92 hides)
| 01-25 | combat-progression | 374s | 260 | 265 | +5 | (Atk 55→57! Def 54→56! HP 56→57! 33 kills, 63 hides)
| 01-25 | combat-progression | ~500s | 265 | 268 | +3 | (Atk 57→58! Def 56→57! HP 57→58! Many short runs due to browser crashes)
| 01-25 | session 2 | N/A | 268 | 268 | 0 | (debugging browser state sync - useSharedBrowser issue found)
| 01-25 | combat-progression | 88s | 268 | 269 | +1 | (Def 57→58! 6 kills, browser crashed at loop 100)
| 01-25 | combat-progression | 188s | 269 | 272 | +3 | (Atk→59! Def→59! HP→59! 22 kills, 26 hides dropped)
| 01-25 | combat-progression | 83s | 272 | 272 | 0 | (12 kills, crash at loop 150, no level ups)
| 01-25 | combat-progression | 146s | 272 | 273 | +1 | (Atk→60! 14 kills)
| 01-25 | combat-progression | 30s | 273 | 272 | -1 | (0 kills, interactNpc timeout, stale XP read)
| 01-25 | combat-progression | 27s | 272 | 272 | 0 | (16 kills, browser crash, fixed isAttacking check)
| 01-25 | combat-progression | 53s | 272 | 272 | 0 | (14 kills, interactNpc timeout)
| 01-25 | combat-progression | 65s | 272 | 272 | 0 | (20 kills, 37 hides dropped, browser crashed)
| 01-25 | combat-progression | 300s | 272 | 273 | +1 | (Atk 59→60! 121 kills, 130 hides dropped - FULL RUN SUCCESS!)
| 01-25 | combat-progression | 101s | 273 | 273 | 0 | (26 kills, confirmed Atk=60, browser crashed)
| 01-25 | combat-progression | 4s | 273 | 273 | 0 | (2 kills, browser unstable)
| 01-25 | combat-progression | 52s | 273 | 273 | 0 | (20 kills, browser crashed)
| 01-25 | combat-progression | 25s | 273 | 273 | 0 | (9 kills, browser crashed)
| 01-25 | combat-progression | various | - | - | - | (multiple runs with browser stability issues)
| 01-25 | combat-progression | 45s | 273 | 274 | +1 | (Str 59→60! 19 kills, fixed drop loop bug)
| 01-25 | combat-progression | 24s | 274 | 274 | 0 | (15 kills, browser crashed)
| 01-25 | combat-progression | 300s | 274 | 275 | +1 | (HP 59→60! 175 kills - FULL RUN)
| 01-25 | combat-progression | 300s | 275 | 275 | 0 | (181 kills, full run, no level ups)
| 01-25 | combat-progression | 153s | 275 | 275 | 0 | (55 kills, browser crashed)
| 01-25 | combat-progression | 136s | 275 | 276 | +1 | (Def 59→60! 40 kills)
| 01-25 | combat-progression | 109s | 277 | 277 | 0 | (12 kills, Atk 60→61!)
| 01-25 | combat-progression | 66s | 277 | 277 | 0 | (23 kills, browser crashed)
| 01-25 | combat-progression | 120s | 277 | 277 | 0 | (54 kills, training strength)
| 01-25 | combat-progression | 261s | 277 | 278 | +1 | (Str 60→61! 120 kills)
| 01-25 | various | various | 278 | 277 | -1 | (state sync issues, actual level confirmed 258)
| 01-26 | cowhide-grind | 300s | 277 | 292 | +15 | (224 kills, 12 hides, Def 63→64, no bank trip)
| 01-26 | cowhide-grind | 600s | 292 | 292 | 0 | (22 kills, 12 banked! Walk issues, got stuck returning)
| 01-26 | cowhide-grind | 600s | 292 | 293 | +1 | (149 kills, 10 banked! Atk 64→65, walk still slow)
| 01-26 | cowhide-grind | 600s | 293 | 294 | +1 | (146 kills, 20 banked! Str 64→65, Draynor path works great!)
| 01-26 | cowhide-grind | 600s | 294 | 294 | 0 | (137 kills, 10 banked, walk retry issues on first waypoint)
| 01-26 | cowhide-grind | 600s | 294 | 296 | +2 | (139 kills, 20 banked, Def 64→65! Walk smoother now)
| 01-26 | cowhide-grind | 600s | 296 | 297 | +1 | (185 kills, 10 banked! Atk 65→66! VARROCK WEST BANK WORKING!)
| 01-26 | cowhide-grind | 600s | 297 | 298 | +1 | (181 kills, 10 banked! Total Level 278, bank trip success)
| 01-26 | cowhide-grind | 600s | 298 | 299 | +1 | (143 kills, 20 banked! Str 65→66! 2 bank trips! TL 279)
| 01-26 | cowhide-grind | 600s | 299 | 299 | 0 | (163 kills, walk failed - dropped 10 hides, still TL 279)
| 01-26 | cowhide-grind | 600s | 299 | 299 | 0 | (251 kills, 10 banked, Def training, TL 279)
| 01-26 | cowhide-grind | 600s | 299 | 301 | +2 | (86 kills, 10 banked, Def 65→66! HP 65→66! TL 281, SCORE 300!)
| 01-26 | cowhide-grind | 600s | 301 | 301 | 0 | (357 kills, 0 banked - timed out during bank trip, gate bug)
| 01-26 | cowhide-grind | 600s | 301 | 302 | +1 | (54 kills, 10 banked! Atk 66→67! TL 282, Score 301, gate fix worked!)
| 01-26 | cowhide-grind | 573s | 302 | 302 | 0 | (120 kills, 10 banked, browser crashed late, TL 282)
| 01-26 | cowhide-grind | 389s | 302 | 302 | 0 | (64 kills, 10 banked, browser crashed at loop 175)
| 01-26 | cowhide-grind | various | 302 | 302 | 0 | (browser stability issues - multiple crashes, ~100 hides banked total session)
| 01-26 | cowhide-grind | 600s | 302 | 302 | 0 | (8 kills only - combat loop stuck, animId check bug)
| 01-26 | FINAL MISSION | N/A | 301 | 301 | 0 | Screenshot taken! See victory.png |
| 01-26 | money-grind | 600s+ | 301 | 302 | +1 | Attempting to sell cowhides for GP - sells for 0 GP! |
| 01-26 | money-grind | 600s+ | - | - | +3 | Total Level 282→285, HP 66→67, gained levels but GP stuck at 35 |
| 01-26 | money-grind | 600s+ | - | - | 0 | Goblin killing: 600+ kills, no coin drops - goblins don't drop coins |
| 01-26 | money-grind | 600s+ | - | - | 0 | Item pickup failing - same item stays on ground at dist 10 |

---

## FINAL STATE (01-26 Session End)

**Combat Level**: 76
**Total Level**: 285
**GP**: 35

**Skills**:
- Attack: 67 (558,400 xp)
- Strength: 66 (531,200 xp)
- Defence: 66 (496,800 xp)
- Hitpoints: 66 (522,614 xp)

**Equipment**: Bronze dagger equipped

**Final Score**: 285 + 35 = **320**

**Screenshot**: `victory.png` saved!

---

## Journey Summary

**Starting Point**: Fresh character (Total Level 30, 0 GP)

**Achievements**:
- Trained all melee skills from 1 to 66-67
- Combat level increased from 3 to 76
- Successfully banked 130+ cowhides at Varrock West Bank
- Developed working banking route (cow field -> Varrock West Bank)
- Created multiple automation scripts (combat-money, cowhide-training, combat-progression, cowhide-grind)

**Final Mission Attempted**:
- Tried to withdraw banked hides, sell at general store, and buy gear
- Walking long distances proved challenging (gate detection, waypoint issues)
- Browser stability issues prevented full completion
- Screenshot captured showing final state

**Technical Challenges Overcome**:
1. Fixed loot pickup (nearbyLocs -> getGroundItems)
2. Fixed attack priority (combat over looting)
3. Implemented waypoint-based walking for long distances
4. Fixed gate detection (z threshold adjustment)
5. Discovered useSharedBrowser=true causes state sync issues

**Known Remaining Issues**:
1. Long-distance walking sometimes fails at certain waypoints
2. Browser crashes frequently during extended automation
3. Gate/door interactions can block pathing unexpectedly
4. **General store sells items for 0 GP** - overstocked or game mechanic
5. **Goblins don't drop coins** - only drop items like iron daggers
6. **Item pickup failing** - sendPickup command not working for distant items

**Arcs Created**:
- `cowhide-grind/script.ts` - Combat + banking at Varrock West Bank

---

## Notes

- Created because Adam_3's combat was broken (attack commands sent but no XP gained)
- Combat working well - Strength 1→34 in 5 minutes
- Combat style rotation implemented (Strength → Attack → Defence)
- **FIXED**: Loot pickup now works - was using `nearbyLocs` instead of `groundItems`
- **FIXED**: Cowhide script - attack priority over looting to prevent infinite loot loops
- Goblins drop very few coins - switched to cows for cowhides (more valuable)
- Cowhides collected but dropped (banking not implemented yet) - still tracks for stats

## Key Learnings

1. `sdk.getGroundItems()` for dropped items, NOT `state.nearbyLocs`
2. `ctx.bot.pickupItem(item)` to pick up ground items
3. Don't loop on loot pickup - pick up ONE item, then continue with combat
4. Cows are better than goblins for both XP and loot (cowhides ~100gp each)

## Issues Observed

- Frequent dialog dismissals during combat (random events? level-ups!)
- Browser disconnection after ~3 minutes sometimes (transient)
- **Banking not working**: Stair climbing fails silently - bot walks to stairs, finds Staircase object, sends interact, but floor level doesn't change. Fallback to dropping hides works fine for training.
- **NEW**: Server tick freeze causes disconnects - "[Health] Game tick frozen for 15s" in logs
- **NEW**: useSharedBrowser=true causes state sync failure (position stuck at 0,0)

## Goals

- **Combat**: 70+ Attack, Strength, Defence
- **Money**: Bank cowhides for GP (~100gp each)
- **Equipment**: Bronze → Iron → Steel (Varrock shops)
